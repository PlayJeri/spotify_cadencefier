{% extends "base.html" %}

{% block title %}Playlist{% endblock %}

{% block content %}

<form method="POST">
    <div class="container py-4 text-center">
        <div class="row justify-content-center">
            <h1 class="text-al">Create playlist</h1>
            <p>From this form info Cadencefier creates a custom spotify playlist for you to workout in sync with your favorite genre.</p>
    </div>
    <div class="row py-2 justify-content-center">
        <div class="col-3">
            {{ form.hidden_tag() }}
            {{ form.playlist_name.label(class="form-label") }}
            {{ form.playlist_name(class="form-control") }}
        </div>
    </div>
    <div class="row py-2 justify-content-center">
        <div class="col-3">
            {% for subfield in form.genre_or_artist %}
            <tr>
                <td>{{ subfield(class="form-check-input", type="radio") }}</td>
                <td>{{ subfield.label(class="form-check-label") }}</td>
            </tr>
            {% endfor %}
        </div>
    </div>
    <div class="row py-2 justify-content-center">
        <div class="col-3">
            {{ form.genre.label(class="form-label") }}
            {{ form.genre(class="form-control")}}
        </div>
    </div>
    <div class="row py-2 justify-content-center">
        <div class="col-3">
            <p>
                {{ form.tempo.label(class="form.label")}}
                {{ form.tempo(class="form-range", value=115, min=70, max=160, step=1, oninput="outputUpdate(value)")}}
                <output for="tempo" id="selected-tempo">{{ form.tempo.data }}</output>
            </p>
        </div>
    </div>
    <div class="row py-3 justify-content-center">
        <div class="col-3">
            {{ form.submit(class="btn btn-secondary")}}
        </div>
    </div>
</div>
</form>
<script>
    function outputUpdate(value) {
        document.querySelector('#selected-tempo').value = value;
    }
</script>
{% endblock %}